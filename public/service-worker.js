(()=>{"use strict";var e={254:(e,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.cacheHandler=a.apiPathMatch=a.extensionMatch=a.deleteCaches=a.clearCaches=a.freshCaches=a.getCaches=a.addCaches=a.DO_NOT_CACHE_URL=a.STATIC_CACHE_URL=a.DYNAMIC_CACHE=a.STATIC_CACHE=void 0;const n=self;a.STATIC_CACHE="@llct/cache/static/v21",a.DYNAMIC_CACHE="@llct/cache/dynamic/v2",a.STATIC_CACHE_URL=["/","/manifest.json","/sounds/tick.mp3","/images/aqours.png","/images/niji.png","/images/us.png","/images/logo/android-icon-36x36.png","/images/logo/android-icon-48x48.png","/images/logo/android-icon-72x72.png","/images/logo/android-icon-96x96.png","/images/logo/android-icon-144x144.png","/images/logo/android-icon-192x192.png","/images/logo/apple-icon-57x57.png","/images/logo/apple-icon-60x60.png","/images/logo/apple-icon-72x72.png","/images/logo/apple-icon-76x76.png","/images/logo/apple-icon-114x114.png","/images/logo/apple-icon-120x120.png","/images/logo/apple-icon-144x144.png","/images/logo/apple-icon-152x152.png","/images/logo/apple-icon-180x180.png","/images/logo/apple-icon-precomposed.png","/images/logo/apple-icon.png","/images/logo/favicon-16x16.png","/images/logo/favicon-32x32.png","/images/logo/favicon-96x96.png","/images/logo/favicon.ico","/images/logo/Icon.svg","/images/logo/ms-icon-70x70.png","/images/logo/ms-icon-144x144.png","/images/logo/ms-icon-150x150.png","/images/logo/ms-icon-310x310.png"],a.DO_NOT_CACHE_URL=[];const t=[[/(\/images\/.+|\/sounds\/.+)/g,{}],[/\.(css|json)$/g,{}],[/.*\.js$/g,{}]],s=[[/\/cover\/[0-9]+(\?s=[0-9]+)?/g,{}],[/\/call\/[0-9]+|call\.json/g,{revalidate:!0}],[/\/lists/g,{revalidate:!0}]];a.addCaches=e=>caches.open(e).then((e=>e.addAll(a.STATIC_CACHE_URL))),a.getCaches=()=>caches.keys(),a.freshCaches=async()=>(await(0,a.getCaches)()).filter((e=>e!==a.STATIC_CACHE&&e!==a.DYNAMIC_CACHE)).map((e=>(0,a.deleteCaches)(e))),a.clearCaches=e=>caches.open(e).then((async e=>(await e.keys()).map((a=>e.delete(a))))),a.deleteCaches=e=>caches.delete(e),a.extensionMatch=e=>{for(const a of t)if(new RegExp(a[0],"g").test(e))return a[1];return null},a.apiPathMatch=e=>{for(const a of s)if(new RegExp(a[0],"g").test(e))return a[1];return null},a.cacheHandler=async(e,a,t)=>{const s=await caches.open(e);if(!(t.noCache||navigator.onLine&&t.revalidate)){let e=a;0===n.registration.scope.indexOf(new URL(a.url).origin)&&a.url.indexOf("/?id=")>-1&&(e=new Request("/"));const t=await s.match(e);if(t&&t.ok&&200===t.status)return t}try{const e=await fetch(a,{mode:"cors",credentials:"same-origin"});if(e.status>400)throw new Error(JSON.stringify({code:e.status,text:await e.text()}));return e.status>=200&&e.status<300&&s.put(a,e.clone()),e}catch(e){if("string"==typeof e.message&&"{"===e.message[0]){const a=JSON.parse(e.message);return a.code?new Response(a.text,{status:a.code}):new Response(e,{status:404})}return new Response(e,{status:530,statusText:e.message})}}},114:function(e,a,n){var t=this&&this.__createBinding||(Object.create?function(e,a,n,t){void 0===t&&(t=n),Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[n]}})}:function(e,a,n,t){void 0===t&&(t=n),e[t]=a[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,a){Object.defineProperty(e,"default",{enumerable:!0,value:a})}:function(e,a){e.default=a}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&t(a,e,n);return s(a,e),a};Object.defineProperty(a,"__esModule",{value:!0});const i=self,c=o(n(254));i.addEventListener("install",(e=>{i.skipWaiting(),e.waitUntil(c.addCaches(c.STATIC_CACHE))})),i.addEventListener("activate",(()=>{c.freshCaches()})),i.addEventListener("fetch",(e=>{if(!("caches"in self))return e;if(c.DO_NOT_CACHE_URL.filter((a=>e.request.url.indexOf(a)>-1)).length)return e;const a=new URL(e.request.url);if(a.pathname.startsWith("/calls")){const a=c.apiPathMatch(e.request.url);if(a)return e.respondWith(c.cacheHandler(c.DYNAMIC_CACHE,e.request,a))}else if(0===i.registration.scope.indexOf(a.origin)){const n=c.extensionMatch(a.pathname);return n||"/"===a.pathname?e.respondWith(c.cacheHandler(c.STATIC_CACHE,e.request,n||{})):e}return e}))}},a={};!function n(t){var s=a[t];if(void 0!==s)return s.exports;var o=a[t]={exports:{}};return e[t].call(o.exports,o,o.exports,n),o.exports}(114)})();